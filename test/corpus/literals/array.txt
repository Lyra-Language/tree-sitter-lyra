================================
Simple Array with type inference
================================

let arr = [1, 2, 3]

---

(program
  (declaration
    (identifier)
    (array_literal
      (integer_literal
        (decimal_int))
      (integer_literal
        (decimal_int))
      (integer_literal
        (decimal_int)))))

=======================================
Array repeat initialization with number
=======================================

let zeros = [0; 16]

---

(program
  (declaration
    (identifier)
    (array_repeat_init
      (integer_literal
        (decimal_int))
      (array_repeat_count
        (integer_literal
          (decimal_int))))))

==============================================
Array repeat initialization with const count
==============================================

const SIZE = 1024
let buffer = [0; SIZE]

---

(program
  (const_declaration
    (const_identifier)
    (integer_literal
      (decimal_int)))
  (declaration
    (identifier)
    (array_repeat_init
      (integer_literal
        (decimal_int))
      (array_repeat_count
        (const_identifier)))))

=============================================
Array repeat initialization with struct value
=============================================

let points = [Vec3 { x: 0, y: 0, z: 0 }; 100]

---

(program
  (declaration
    (identifier)
    (array_repeat_init
      (struct_literal
        (struct_name)
        (field_name)
        (field_value
          (integer_literal
            (decimal_int)))
        (field_name)
        (field_value
          (integer_literal
            (decimal_int)))
        (field_name)
        (field_value
          (integer_literal
            (decimal_int))))
      (array_repeat_count
        (integer_literal
          (decimal_int))))))

============================================
Array repeat initialization with float value
============================================

let matrix = [1.0; 16]

---

(program
  (declaration
    (identifier)
    (array_repeat_init
      (float_literal)
      (array_repeat_count
        (integer_literal
          (decimal_int))))))

====================================
Array with missing comma is an error
:error
====================================

let arr = [1 2 3]

---

(program
  (declaration
    (identifier)
    (array_literal
      (integer_literal
  (decimal_int)
      (MISSING "]")))
  (integer_literal
  (decimal_int)
  (integer_literal
  (decimal_int)
  (ERROR))

==========================
Unclosed array is an error
:error
==========================

let arr = [1, 2, 3

---

(program
  (declaration
    (identifier)
    (array_literal
      (integer_literal
        (decimal_int))
      (integer_literal
        (decimal_int))
      (integer_literal
        (decimal_int))
      (MISSING "]"))))))            