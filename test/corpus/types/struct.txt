==================
Struct Declaration
==================

struct Point { x: Float32, y: Float32 }

------------------------------

(program
  (type_declaration
    (struct_type
      (struct_name)
      (struct_type_body
        (struct_member
          (field_name)
          (field_type
            (float_type)))
        (struct_member
          (field_name)
          (field_type
            (float_type)))))))

==============================
Struct Instance
==============================

let origin = Point {
  x: 0.0,
  y: 0.0,
}

---------------------------------

(program
  (declaration
    (identifier)
    (struct_literal
      (struct_name)
      (field_name)
      (field_value
        (float_literal))
      (field_name)
      (field_value
        (float_literal)))))

=========================
Struct Instance Shorthand
=========================

let origin = Point { 0.0, 0.0 }

---

(program
  (declaration
    (identifier)
    (struct_literal
      (struct_name)
      (field_value
        (float_literal))
      (field_value
        (float_literal)))))

=====================
Struct Default Values
=====================

struct Person {
  name: Str,
  age: Int8 = 0,
  hitpoints: Int8 = 100
}

---

(program
  (type_declaration
    (struct_type
      (struct_name)
      (struct_type_body
        (struct_member
          (field_name)
          (field_type
            (string_type)))
        (struct_member
          (field_name)
          (field_type
            (signed_integer_type))
          (default_field_value
            (integer_literal
              (decimal_int))))
        (struct_member
          (field_name)
          (field_type
            (signed_integer_type))
          (default_field_value
            (integer_literal
              (decimal_int))))))))

======================================
Struct Declaration with Generic Params
======================================

struct Point<n> { x: n, y: n }

----------------------------------

(program
  (type_declaration
    (struct_type
      (struct_name)
      (generic_parameters
        (generic_type))
      (struct_type_body
        (struct_member
          (field_name)
          (field_type
            (generic_type)))
        (struct_member
          (field_name)
          (field_type
            (generic_type)))))))

=================================
Struct Instance with Generic Args
=================================

let position = Point::<Float32> {
  x: 3.124,
  y: 78.093,
}

---

(program
  (declaration
    (identifier)
    (struct_literal
      (struct_name)
      (generic_arguments
        (float_type))
      (field_name)
      (field_value
        (float_literal))
      (field_name)
      (field_value
        (float_literal)))))

==========================
Struct with mutable fields
==========================

struct Person {
  name: Str,
[mut]:
  age: Int8,
  title: Str,
}

---

(program
  (type_declaration
    (struct_type
      (struct_name)
      (struct_type_body
        (struct_member
          (field_name)
          (field_type
            (string_type)))
        (mut_keyword)
        (struct_member
          (field_name)
          (field_type
            (signed_integer_type)))
        (struct_member
          (field_name)
          (field_type
            (string_type)))))))

===========================
Struct with no comma Errors
:error
===========================

struct Point { x: Float64 y: Float64 }

----------------------------------

(program
  (type_declaration
    (struct_type
      (struct_name)
      (struct_type_body
        (field_name)
        (field_type
          (float_type))
        (ERROR
          (identifier))))))

===================
Empty Struct Errors
:error
===================

struct Point {}

----------------------------------

(program
  (ERROR
    (user_defined_type_name)))

====================